local CoreGui = game:GetService("CoreGui")
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")

local player = Players.LocalPlayer

local function createFinalNightmare()
    -- Полная блокировка ввода
    UserInputService.MouseIconEnabled = false
    UserInputService.MouseBehavior = Enum.MouseBehavior.LockCenter
    
    -- Основной GUI скримера
    local screamer = Instance.new("ScreenGui")
    screamer.Name = "FinalNightmare"
    screamer.IgnoreGuiInset = true
    screamer.ResetOnSpawn = false
    screamer.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    screamer.DisplayOrder = 999999
    
    -- Черный фон
    local background = Instance.new("Frame")
    background.Size = UDim2.new(1, 0, 1, 0)
    background.BackgroundColor3 = Color3.new(0, 0, 0)
    background.BorderSizePixel = 0
    background.Parent = screamer
    
    -- Основной текст атаки
    local mainText = Instance.new("TextLabel")
    mainText.Size = UDim2.new(1, 0, 0.3, 0)
    mainText.Position = UDim2.new(0, 0, 0.35, 0)
    mainText.BackgroundTransparency = 1
    mainText.Font = Enum.Font.Creepster
    mainText.Text = "WORMOS ACTIVATED"
    mainText.TextColor3 = Color3.new(1, 0, 0)
    mainText.TextScaled = true
    mainText.TextStrokeColor3 = Color3.new(0, 0, 0)
    mainText.TextStrokeTransparency = 0.2
    mainText.Parent = screamer
    
    -- Дополнительный текст
    local subText = Instance.new("TextLabel")
    subText.Size = UDim2.new(1, 0, 0.2, 0)
    subText.Position = UDim2.new(0, 0, 0.65, 0)
    subText.BackgroundTransparency = 1
    subText.Font = Enum.Font.Code
    subText.Text = "SYSTEM COMPROMISED\nDATA EXFILTRATION IN PROGRESS"
    subText.TextColor3 = Color3.new(1, 1, 1)
    subText.TextSize = 24
    subText.TextWrapped = true
    subText.Parent = screamer
    
    screamer.Parent = CoreGui
    
    -- Блокировка всех клавиш
    local inputConnection
    inputConnection = UserInputService.InputBegan:Connect(function(input)
        -- Полная блокировка ввода
    end)
    
    -- Сообщения для цикла
    local terrorMessages = {
        "ТЕБЯ ВЗЛОМАЛИ ХПАХХПВАХПХАХПВА",
        "WORMOS CONTROLLING YOUR SYSTEM",
        "ВСЕ ТВОИ ДАННЫЕ УТЕКАЮТ",
        "НИКАКОГО СПАСЕНИЯ",
        "ТВОЙ КОМПЬЮТЕР МОЙ",
        "ЗАКРОЙ ГЛАЗА - НЕ ПОМОЖЕТ",
        "Я ВИЖУ ТЕБЯ ЧЕРЕЗ ВЕБКАМЕРУ",
        "СОТНИ ВИРУСОВ УЖЕ УСТАНОВЛЕНЫ",
        "БАНКОВСКИЕ СЧЕТА ОЧИЩЕНЫ",
        "ТВОИ ПАРОЛИ УЖЕ В ИНТЕРНЕТЕ"
    }
    
    -- Цвета для мерцания
    local terrorColors = {
        Color3.new(1, 0, 0),
        Color3.new(0, 1, 0), 
        Color3.new(0, 0, 1),
        Color3.new(1, 1, 0),
        Color3.new(1, 0, 1),
        Color3.new(0, 1, 1)
    }
    
    -- Дрожание экрана
    local shakeConnection
    shakeConnection = RunService.Heartbeat:Connect(function()
        background.Position = UDim2.new(0, math.random(-15, 15), 0, math.random(-15, 15))
        mainText.Position = UDim2.new(0, math.random(-20, 20), 0.35, math.random(-20, 20))
        subText.Position = UDim2.new(0, math.random(-15, 15), 0.65, math.random(-15, 15))
    end)
    
    -- Бесконечный цикл ужаса
    while true do
        -- Случайное сообщение
        mainText.Text = terrorMessages[math.random(1, #terrorMessages)]
        mainText.TextColor3 = terrorColors[math.random(1, #terrorColors)]
        
        -- Случайный дополнительный текст
        subText.Text = string.format(
            "ERROR CODE: 0x%08X\nCPU USAGE: %d%%\nMEMORY LEAK: %dMB",
            math.random(0x00000000, 0xFFFFFFFF),
            math.random(95, 100),
            math.random(1024, 8192)
        )
        
        -- Интенсивное мерцание
        for i = 1, 10 do
            background.BackgroundTransparency = math.random(0, 80) / 100
            mainText.TextTransparency = math.random(0, 50) / 100
            subText.TextTransparency = math.random(0, 70) / 100
            wait(0.1)
        end
        
        wait(math.random(2, 4))
    end
end

createFinalNightmare()
